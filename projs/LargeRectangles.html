<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem 2.1 Large Rectangles</title>
    <link rel="stylesheet" href="../prism.css"> <!-- Link to your external CSS file -->
    <script src="../prism.js"></script> <!-- Adjust the path as needed -->
    <script src="../insertCode.js"></script> <!-- Link to your external JavaScript file -->
    <link rel="stylesheet" href="../style.css"> <!-- Link to your external CSS file -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <a href="https://sarimbaig01.github.io/proghack/" class="back-link top-right">‚Üê Back</a>

    <div class="statement">
    <h1> Problem 2.1 Large Rectangles </h1>
        <section class="statement">
            <p>This is a problem from image processing. We are processing black and white images. Each image is a two-dimensional grid. In this case, each pixel is either 1 (representing a white pixel) or 0 (representing a black pixel). We are interested in determining regions of black intensity. As this is a commonly used operation, we have done some preprocessing and mapped the image to a 1-dimensional list, called count. Each element in count contains the number of 1s in a row of the original image. More precisely, count[i] = the number of black pixels in row i of the image.</p>

            <p>We can now visualize count as a bar graph. For example, if count = [2, 4, 7, 3, 1, 8, 0, 4, 5], then it can be visualized as in Figure 1 below.</p>

            <div class="single-image-container">
                    <figure style="display: inline-block; margin: 10px; text-align: center;">
                        <img src="./img/LargeRectangles1.png" width="500" height="500"/>
                        <figcaption>Figure 1: The 'count' list visualized as a bar graph. The height of bar i corresponds to the number of black pixels in row i of the image.</figcaption>
                    </figure>
            </div>                  

            <p>In order to detect areas of black intensity, we consider rectangles composed of the bars of this bar graph. Figure 2 shows four different examples of such rectangles (shown in red). Note that such a rectangle represents the black intensity within consecutive rows of the image. The area of such a rectangle provides an approximation of the black intensity of a region of the image (though not necessarily a rectangular region of the image).</p>

            <div class="terms" id="terms">  
            <fieldset>
              <legend>Some terminology for rectangles</legend>
              <p><strong>side bars</strong>: The bars making up the left and right sides of the rectangle. A single bar rectangle is also possible, in which case both its side bars are the same bar.</p>
              <p><strong>internal bars</strong>: The bars lying inside the rectangle (between the two side bars).</p>
              <p><strong>width</strong>: The number of bars in the rectangle, including both side and internal bars. (The width of each individual bar is taken to be 1).</p>
              <p><strong>height</strong>: The height of the shortest side bar of the rectangle. In case of a single bar rectangle, the height of that bar is the height of the rectangle.</p>
              <p><strong>area</strong>: The product the height and width of the rectangle.</p>
              <p><strong>spike</strong>: An internal bar that exceeds the height of the rectangle. Figure 3 shows two examples of rectangles with spikes (green bars).</p>
              <p><strong>spikeless rectangle</strong>: A rectangle that has no spikes. Four examples of spikeless rectangles are shown in Figure 2.</p>  
            </fieldset>
          </div>

            <p>In this problem we are interested only in spikeless rectangles.</p>
  
            <div class="multi-image-container">
                    <figure style="display: inline-block; margin: 10px; text-align: center;">
                        <img src="./img/LargeRectangles2a.png" width="400" height="400"/>
                        <img src="./img/LargeRectangles2b.png" width="400" height="400"/>
                        <img src="./img/LargeRectangles2c.png" width="400" height="400"/>
                        <img src="./img/LargeRectangles2d.png" width="400" height="400"/>
                        <figcaption>Figure 2: Four different examples of largest spikeless rectangles and their corresponding areas.</figcaption>
                    </figure>
            </div>

             <div class="multi-image-container">
                    <figure style="display: inline-block; margin: 10px; text-align: center;">
                        <img src="./img/LargeRectangles3a.png" width="400" height="400"/>
                        <img src="./img/LargeRectangles3b.png" width="400" height="400"/>
                        <figcaption>Figure 3: Two different examples of largest rectangles with spikes and their corresponding areas. The area of spiked rectangles is computed differently from spikeless rectangles and will be considered in the next problem.</figcaption>
                    </figure>
            </div>

            <h3>Python code</h3>
            <p>Given the list <strong>count</strong>, our goal is to find the spikeless rectangle with the largest area. Implement the following Python function for this purpose. In this version of the solution (let us call it v1 for version 1), write a cubic time algorithm, i.e., an algorithm that takes approximately \( c \cdot N^3 \) time, where \( c > 0 \) is a constant and \( N \) is the size of the list. The algorithm will inspect each candidate rectangles while also ensuring that the candidate rectangle is spikeless by traversing through its bars. The function should finally report the largest candidate rectangle. A utility function called updateMaxRectangle has been provided to you to use appropriately within your code.</p>
           
            <div class="code-container" data-filename="./py/lr1.py">
                <pre><code class="language-python" id="py-code">
                </code></pre>
            </div>

            <p>Use the following main to test your function:</p>

            <div class="code-container" data-filename="./py/lr3.py">
                <pre><code class="language-python" id="py-code">
                </code></pre>
            </div>

            <h3>The quadratic time method</h3>

            <p>The aim now is to find the desired rectangle in quadratic time, i.e., approximately \( d \cdot N^2 \) time, where \( d > 0 \) is a constant and \( N \) is the size of the list. As before, you will need to check all candidate rectangles, however, to check whether a candidate rectangle is spikeless you should not need to traverse through all its bars again.</p>

            <p>Implement the following function for the quadratic time method. You may use the same main as above to test your function by changing the name of the function being called in the main.</p>
            
           <div class="code-container" data-filename="./py/lr2.py">
                <pre><code class="language-python" id="py-code">
                </code></pre>
            </div>
            
        </section>
      </div>
</body>
</html>
