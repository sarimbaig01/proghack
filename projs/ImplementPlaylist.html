<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement a Playlist</title>
    <link rel="stylesheet" href="../prism.css"> <!-- Link to your external CSS file -->
    <link rel="stylesheet" href="../style.css"> <!-- Link to your external CSS file -->
     
</head>
<body>
  <a href="https://sarimbaig01.github.io/proghack/" class="back-link top-right">← Back</a>

   <div class="statement">
    <section class="statement">
        <p>We wish to implement an MP3 playlist. We know the maximum size (number of MP3s in the list) never exceeds 200. However, songs may be moved around in the list, added to, or removed from the list at any time. We need our data structure to have the following features:</p>
        <ul>
            <li>Use vectors to store the list to exploit the cachability and locality of reference features of vectors due to the elements being stored contiguously in memory.</li>
            <li>Implement the playlist as a list so that moving, adding, and removing songs does not require copying (in order to shift) a number of elements left or right.</li>
        </ul>
        <p>Consider the example shown in Figure 1. The characters A, P, X, etc., represent songs' metadata stored in the data vector. The vector containing numbers stores the connections (or links) representing the order in which the songs appear in the playlist.</p>
        <p>For the sake of this problem, we represent song metadata by single letters and assume the playlist must always maintain alphabetical order among songs. In real situations, these could be several KBs of data per song.</p>
        
         <figure>
                    <img src="./img/ImplementPlaylist.jpg" width="650" height="450">
                    <figcaption>Figure 1: The top vector contains songs meta-deta (represented by characters for simplicity), the bottom vector contains links, or indices, maintaining the order of the playlist.</figcaption>
         </figure>
        
        <p>In the example (before song Q is added): the playlist begins with song A, followed by songs P and X, which is the last song. This order is represented in the links vector, which starts at index 2 (the index of A), which stores the index 0 of the next song P. At index 0, we find 1, the index of the next song X, and at index 1, we find -1, representing the end of the list.</p>
        <p>Notice in the figure showing the state of the list after adding song Q how Q is simply placed at the end of the data vector without having to move around (heavyweight) song data. The correct place of Q is between P and X. This order can be maintained simply by adjusting the indices (lightweight) in the links vector.</p>
        
        <h3>Functions to Implement:</h3>
        <p>
            1. <b>addToPlaylist</b>: Adds a new song to the playlist while maintaining the alphabetical order.<br>
            2. <b>removeFromPlaylist</b>: Removes a song from the playlist, updating the links to ensure the order is preserved.<br>
            3. <b>defragment</b>: Reorganizes the playlist to ensure that the songs are stored contiguously in the data vector, which might have been disrupted by multiple additions and removals. This function helps in optimizing memory usage and improving access speed.<br>
            4. <b>shufflePlaylist</b>: Randomizes the order of the songs in the playlist as efficiently as possible. (Challenge: implement the <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle/" target="_blank">Fisher–Yates shuffle.</a>) 
        </p>

        <p>The following main program shows the definition of the data and links vectors and the index start, which holds the index of the first song. Prototypes of functions addToPlaylist, removeFromPlaylist, defragment, and shufflePlaylist are also given. The main contains code to test these functions. Implement the functions and use this code to test them thoroughly.</p>

        <div class="code-container" data-filename="./cpp/ip1.cpp">
                    <pre><code class="language-cpp" id="cpp-code1">
                    </code></pre>
        </div>
        <!-- Prism.js JavaScript -->
        <script src="../prism.js"></script> <!-- Adjust the path as needed -->
        <script src="../insertCode.js"></script> <!-- Link to your external JavaScript file -->
    </section>
</div>

</body>
</html>

